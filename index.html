<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trivia del Colegio ‚Äî Reto C√©sar</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ffd24d;--muted:#9aa4b2}
    body{margin:0;font-family:Inter,Segoe UI,Arial, sans-serif;background:linear-gradient(180deg,#071028 0%, #0f1724 100%);color:#e6eef8}
    .wrap{max-width:900px;margin:36px auto;padding:28px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:14px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 6px;font-size:28px;color:var(--accent)}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    .q{background:rgba(255,255,255,0.02);padding:14px;border-radius:10px}
    select,input[type=text],textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    .options{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    button.btn{background:var(--accent);border:none;padding:10px 14px;border-radius:8px;cursor:pointer;color:#081426;font-weight:600}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
    pre.cipher{background:rgba(255,255,255,0.02);padding:14px;border-radius:8px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, monospace}
    .hint{font-size:13px;color:var(--muted)}
    .hidden{display:none}
    .success{background:linear-gradient(90deg,rgba(34,197,94,0.12),rgba(16,185,129,0.06));padding:12px;border-radius:8px;color:#bff7dd}
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <h1>üîê Trivia del Colegio ‚Äî Reto C√©sar</h1>
    <p class="lead">Responde las 5 preguntas. Si aciertas, obtendr√°s un mensaje cifrado (ROT 5). Desc√≠fralo y escribe el texto plano para revelar los datos finales.</p>

    <div id="quiz" class="grid">
      <div class="q" data-q="1">
        <label><strong>1.</strong> ¬øEn qu√© a√±o fue fundado el colegio?</label>
        <div class="options">
          <button class="btn" onclick="selectOption(1,'1950',this)">1950</button>
          <button class="btn" onclick="selectOption(1,'1957',this)">1957</button>
          <button class="btn" onclick="selectOption(1,'1975',this)">1975</button>
          <button class="btn" onclick="selectOption(1,'2005',this)">2005</button>
        </div>
      </div>

      <div class="q" data-q="2">
        <label><strong>2.</strong> ¬øCu√°l es el color principal del uniforme?</label>
        <div class="options">
          <button class="btn" onclick="selectOption(2,'azul',this)">Azul</button>
          <button class="btn" onclick="selectOption(2,'verde',this)">Verde</button>
          <button class="btn" onclick="selectOption(2,'rojo',this)">Rojo</button>
        </div>
      </div>

      <div class="q" data-q="3">
        <label><strong>3.</strong> ¬øCu√°l es la mejor materia?</label>
        <input id="q3" type="text" placeholder="Escribe tu respuesta (abierta)" />
      </div>

      <div class="q" data-q="4">
        <label><strong>4.</strong> ¬øEn qu√© ciudad se encuentra la sede principal?</label>
        <div class="options">
          <button class="btn" onclick="selectOption(4,'medellin',this)">Medell√≠n</button>
          <button class="btn" onclick="selectOption(4,'bogota',this)">Bogot√°</button>
          <button class="btn" onclick="selectOption(4,'cali',this)">Cali</button>
        </div>
      </div>

      <div class="q" data-q="5">
        <label><strong>5.</strong> ¬øTe gusta el colegio?</label>
        <input id="q5" type="text" placeholder="Escribe tu respuesta (abierta)" />
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:6px">
        <button class="btn" onclick="submitQuiz()">Enviar respuestas</button>
        <button class="ghost" onclick="resetQuiz()">Restablecer</button>
      </div>

      <div id="feedback" class="q hidden"></div>
    </div>

    <div id="cipherBox" class="q hidden">
      <h3>üîé Mensaje final (cifrado)</h3>
      <p class="hint">Pista: el mensaje est√° cifrado con <strong>ROT 5</strong>.</p>
      <pre class="cipher" id="cipherText">Utidwf htw yfw ytifx qta 
jqtwjx, ujwt st utidwf ijyjws qjwnsjwf.


</pre>

      <label for="decoded"><strong>Escribe aqu√≠ el mensaje descifrado:</strong></label>
      <textarea id="decoded" rows="3" placeholder="Escribe el texto descifrado completo"></textarea>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" onclick="checkDecoded()">Verificar</button>
        <button class="ghost" onclick="showHint()">Mostrar pista extra</button>
      </div>

      <div id="cipherFeedback" class="hidden" style="margin-top:10px"></div>
    </div>

    <div id="finalBox" class="q hidden success">
      <h3>üéâFelicidades datos personales (desbloqueados)</h3>
      <p><strong>Nombre:</strong> Alan diaz</p>
      <p><strong>Correo:</strong> Alanandresdiaz2@gmail.com</p>
      <p><strong>Instagram:</strong> Diaz_alan1 </p>
      <p><strong>Curso:</strong> 1102¬∞ </p>
      <p><strong>Materia favorita:</strong> Sociedad Digital </p>
    </div>

  </div>

  <script>
    // Respuestas correctas configuradas
    const correct = {1:'1957', 2:'verde', 4:'bogota'};
    const state = {1:null,2:null,3:'',4:null,5:''};

    function selectOption(q,val,btn){
      state[q]=val;
      // marcar visualmente
      const container = document.querySelector('.q[data-q="'+q+'"]');
      container.querySelectorAll('button').forEach(b=>b.classList.remove('ghost'));
      btn.classList.add('ghost');
    }

    function resetQuiz(){
      // reset state
      state[1]=state[2]=state[4]=null; state[3]=''; state[5]='';
      document.getElementById('q3').value='';
      document.getElementById('q5').value='';
      document.getElementById('feedback').classList.add('hidden');
      document.getElementById('cipherBox').classList.add('hidden');
      document.getElementById('finalBox').classList.add('hidden');
      document.querySelectorAll('.q[data-q]').forEach(div=>div.style.display='block');
      document.querySelectorAll('.q[data-q] button').forEach(b=>b.classList.remove('ghost'));    
    }

    function submitQuiz(){
      // tomar valores abiertos
      state[3]=document.getElementById('q3').value.trim();
      state[5]=document.getElementById('q5').value.trim();

      // validar 1
      const fb = document.getElementById('feedback');
      if(state[1]!==correct[1]){
        fb.innerText = 'El colegio inicia labores en el a√±o 1957, en un terreno donado por el se√±or Escol√°stico Rojas. No se tiene certeza del porqu√© del nombre, al parecer se adopta por el sector donde se encuentra ubicado, barrio Soledad Norte, o por acepci√≥n religiosa. Inicia labores con cuatro cursos de primaria y posteriormente se ampl√≠a a la primaria completa.';
        fb.classList.remove('hidden');
        return;
      }
      if(state[2]!==correct[2]){ fb.innerText='Respuesta incorrecta en la pregunta 2.'; fb.classList.remove('hidden'); return; }
      if(state[4]!==correct[4]){ fb.innerText='Respuesta incorrecta en la pregunta 4.'; fb.classList.remove('hidden'); return; }

      // si pasa validaciones, ocultar quiz y mostrar cipher
      document.getElementById('quiz').style.display='none';
      document.getElementById('cipherBox').classList.remove('hidden');
    }

    // funci√≥n para decodificar ROT n (solo letras A-Z y a-z)
    function rotDecode(text,n){
      const a='abcdefghijklmnopqrstuvwxyz';
      const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const shift = ((n%26)+26)%26;
      return text.split('').map(ch=>{
        if(a.includes(ch)) return a[(a.indexOf(ch)-shift+26)%26];
        if(A.includes(ch)) return A[(A.indexOf(ch)-shift+26)%26];
        return ch;
      }).join('');
    }

    function checkDecoded(){
      const user = document.getElementById('decoded').value.trim();
      const target = 'Podr√°n cortar todas las flores, pero no podr√°n detener la primavera.';
      if(user.toLowerCase()===target.toLowerCase()){
        document.getElementById('cipherBox').classList.add('hidden');
        document.getElementById('finalBox').classList.remove('hidden');
      } else {
        const fb = document.getElementById('cipherFeedback');
        fb.classList.remove('hidden');
        fb.innerText = 'C√≥digo incorrecto. ¬øEst√°s usando ROT 5 y respetando may√∫sculas/acentos?';
      }
    }

    function showHint(){
      alert('Pista extra: Aseg√∫rate de incluir tildes y la palabra completa "primavera". El ROT es 5.');
    }

    // inicializar
    resetQuiz();
  </script>
</body>
</html>
